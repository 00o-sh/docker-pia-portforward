# Default values for pia-portforward chart

image:
  repository: ghcr.io/00o-sh/pia-portforward
  pullPolicy: IfNotPresent
  tag: "" # Defaults to Chart appVersion

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

# PIA credentials (required)
pia:
  # PIA username (format: p1234567)
  user: ""
  # PIA password
  password: ""
  # Manually specify PIA gateway (optional - auto-detected by default)
  gateway: ""
  # Port forward refresh interval in seconds
  refreshInterval: 900

# qBittorrent integration (optional)
qbittorrent:
  enabled: false
  # qBittorrent Web UI host
  host: "http://qbittorrent:8080"
  # qBittorrent Web UI username
  user: "admin"
  # qBittorrent Web UI password
  password: ""

# Port file configuration
portFile:
  # Location to save port number
  path: "/config/pia-port.txt"
  # Location to save detailed port data JSON
  dataPath: "/config/pia-port-data.json"

# Multus networking (for router-level VPN)
multus:
  enabled: false
  # NetworkAttachmentDefinition name
  networkName: "pia-vlan-network"

# Persistent storage for port data
persistence:
  enabled: true
  # Storage class (leave empty for default)
  storageClass: ""
  accessMode: ReadWriteMany
  size: 1Mi
  # Existing claim name (if you want to use an existing PVC)
  existingClaim: ""

# Pod security context
podSecurityContext:
  runAsUser: 1000
  runAsGroup: 1000
  fsGroup: 1000

# Container security context
securityContext:
  allowPrivilegeEscalation: false
  readOnlyRootFilesystem: false
  runAsNonRoot: true
  capabilities:
    drop:
      - ALL

# Resources
resources:
  requests:
    memory: "64Mi"
    cpu: "50m"
  limits:
    memory: "128Mi"
    cpu: "200m"

# Liveness probe configuration
livenessProbe:
  initialDelaySeconds: 30
  periodSeconds: 30
  timeoutSeconds: 10
  successThreshold: 1
  failureThreshold: 3

# Readiness probe configuration
readinessProbe:
  initialDelaySeconds: 10
  periodSeconds: 10
  timeoutSeconds: 5
  successThreshold: 1
  failureThreshold: 3

# Metrics and monitoring
metrics:
  # Enable metrics service (for Prometheus scraping)
  enabled: true
  service:
    type: ClusterIP
    port: 9090
    annotations: {}
      # prometheus.io/scrape: "true"
      # prometheus.io/port: "9090"
      # prometheus.io/path: "/metrics"
    labels: {}
  # Create ServiceMonitor for Prometheus Operator
  serviceMonitor:
    enabled: false
    interval: 30s
    scrapeTimeout: 10s
    labels: {}
    annotations: {}

# Node selector
nodeSelector: {}

# Tolerations
tolerations: []

# Affinity
affinity: {}

# Pod annotations
podAnnotations: {}

# Service account
serviceAccount:
  create: true
  annotations: {}
  name: ""
